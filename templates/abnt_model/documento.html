<!DOCTYPE html>
{% load static %}
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{nome_do_arquivo}}</title>
</head>
<body>
    {% if url_imagem %}
    <header class="capa" style="position: relative; text-align: center;">
        <img class="img_instituicao" src="{{url_imagem}}" style="display: block; margin: 0 auto;">
        <h2 style="position: absolute; top: 6cm; left: 50%; transform: translateX(-50%);">{{instituicao}}</h2>
        <h2 style="position: absolute; top: 10cm; left: 50%; transform: translateX(-50%);">{{autor}}</h2>
        <h1 style="position: absolute; top: 15cm;">{{titulo}}</h1>
        <h2 style="position: absolute; top: 22.5cm; left: 50%; transform: translateX(-50%);">{{local}} <br> {{ano}}</h2>
    </header>
    
    {% else %}
    <header class="capa">
        <h2 style="position: absolute; top:0cm; left: 50%; transform: translate(-50%);">{{instituicao}}</h2>
        <h2 style="position: absolute; top:4cm; left: 50%; transform: translate(-50%);">{{autor}}</h2>
        <h1 style="position: absolute; top:8cm; left: 50%; transform: translate(-50%);" >{{titulo}}</h1>
        <h2 style="position: absolute; top:22.5cm; left: 50%; transform: translate(-50%);">{{local}} <br> {{ano}}</h2>
    </header>
    {% endif %}

    
    {% if resumo %}
    <section class="capitulo page-break">
        <h2><strong>Resumo</strong></h2>
        <div class="texto-justificado">
            {% for paragrafo in resumo %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
        <div class="texto-justificado"><strong>Palavras-chave:</strong> {{palavras_chaves}}</div>
    </section>
    {% endif %}
    
    {% if abstract %}
    <section class="capitulo page-break">
        <h2><strong>Abstract</strong></h2>
        <div class="texto-justificado">
            {% for paragrafo in abstract %}
            <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
        <div class="texto-justificado"><strong>Keywords:</strong> {{keywords}}</div>
    </section>
    {% endif %}

    {% if sumario %}
    <section class="capitulo page-break">
        <h2><strong>SUMÁRIO</strong></h2>
        <div class="texto-justificado">
                {% for titulo, busca, pagina in combina %}
                    <div class="container-sumario">
                        <div id="titulo-sumario"><a href="{{busca}}">{{titulo}}</a></div>
                            <div id="pontos-sumario"><span>{{pontos}}</span></div>
                            <div id="num-pagina-sumario">{{pagina}}</div>
                    </div>
                {% endfor%}
        </div>
    </section>
    {% endif %}
    
    {% if introducao %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="introducao"> INTRODUÇÃO </h3>
        <div class="texto-justificado">
            {% for paragrafo in introducao %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if problematizacao %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="problematizacao"> PROBLEMATIZAÇÃO </h3>
        <div class="texto-justificado">
            {% for paragrafo in problematizacao %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if justificativa %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="justificativa" style="letter-spacing: 0.01cm;">JUSTIFICATIVA</h3> 
        <div class="texto-justificado">
            {% for paragrafo in justificativa %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if questao_geral %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="questao_geral"> QUESTÃO GERAL </h3>
        <div class="texto-justificado">
            {% for paragrafo in questao_geral %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if objetivo %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="objetivo"> OBJETIVO </h3>
        <div class="texto-justificado">
            {% for paragrafo in objetivo %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if metodologia %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="metodologia"> METODOLOGIA </h3>
        <div class="texto-justificado">
            {% for paragrafo in metodologia %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if desenvolvimento %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="desenvolvimento"> DESENVOLVIMENTO </h3>
        <div class="texto-justificado">
            {% for paragrafo in desenvolvimento %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if analise_discussao %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="analise_discussao"> ANÁLISES E DISCUSSÃO </h3>
        <div class="texto-justificado">
            {% for paragrafo in analise_discussao %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

    {% if conclusao %}
    <section id="capitulo" class="capitulo page-break">
        <h3 id="conclusao"> CONCLUSÃO </h3>
        <div class="texto-justificado">
        <div class="texto-justificado">
            {% for paragrafo in introducao %}
                <p class="identar">{{paragrafo}}</p>
            {% endfor%}
        </div>
        </div>
    </section>
    {% endif %}

    {% if referencias %}
    <section id="referencias" class="referencias page-break">
        <h3 id="referencias"> REFERÊNCIAS </h3>
        <div class="texto-justificado">
            {% for paragrafo in referencias %}
            <p>{{paragrafo}}</p>
            {% endfor%}
        </div>
    </section>
    {% endif %}

</body>
<style>
    @page {
        margin: 3cm 2cm 2cm 3cm;
    }

    body {
        font-family: 'Times New Roman', Times, serif;
    }
    
    title {
        font-size: 16pt;
    }
    
    h1 {
        text-align: center;
        font-size: 16pt;
        width: 100%;
    }
    
    h2 {
        font-weight: normal;
        text-align: center;
        font-size: 14pt;
        width: 100%;
    }
    
    h3 {
        text-align: left;
        font-size: 12pt;
    }

    .texto-justificado {
        align-self: stretch;
        text-align: justify;
        font-family: 'Times New Roman', Times, serif;
        
    }
    .identar{
        text-indent: 1.5cm;
        height: 1.5;
    }
    
    .capa {
        position: relative;
    }

    .capa img {
        max-width: 100%; /* Garante que a imagem não exceda a largura do contêiner */
        height: auto; /* Mantém a proporção da imagem */
    }

    .img_instituicao {
        width: 6cm; /* Define a largura da imagem */
        height: 3cm; /* Define a altura da imagem */
        object-fit: cover; /* Ajusta a imagem para cobrir o contêiner, cortando se necessário */
        display: block; /* Garante que a margem automática funcione */
        margin: 0 auto; /* Centraliza a imagem horizontalmente */
    }
    a{
        text-decoration: none;
        color: black;
    }
    .container-sumario{
        display: flex;
        align-items: center;
        align-self: stretch;
        width: 100%;
        margin: 1.5pt;
    }
    #pontos-sumario{
        display: flex;
        align-items: center;
        flex: 1 0 0;
        overflow: hidden;
    }

    /* CSS para impressão */
    @media print {
        .page-break {
            page-break-before: always; /* Quebra a página antes do elemento */
            page-break-inside: avoid; /* Evita quebras de página dentro do elemento */
        }
    }
</style>
</html>
